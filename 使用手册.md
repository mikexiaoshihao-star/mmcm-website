# MMCM Studio 网站部署 + 内容管理手册

## 📁 项目文件说明

```
mmcm-cf/
├── src/
│   ├── _data/
│   │   └── site.json   ← 【重要】所有内容都在这个文件里改
│   ├── assets/
│   │   └── style.css
│   └── index.njk
├── eleventy.config.js
└── package.json
```

---

# 第一部分：部署网站

## 步骤1：注册 GitHub

1. 打开 https://github.com
2. 点击 **Sign up** 注册账号
3. 验证邮箱

## 步骤2：创建仓库并上传文件

1. 登录 GitHub，点击右上角 **+** → **New repository**
2. 填写 Repository name：`mmcm-website`
3. 选择 **Public**
4. 点击 **Create repository**
5. 点击 **uploading an existing file**
6. 把 `mmcm-cf` 文件夹里的**所有内容**拖进去（不是整个文件夹）
7. 点击 **Commit changes**

## 步骤3：注册 Cloudflare

1. 打开 https://dash.cloudflare.com/sign-up
2. 用邮箱注册
3. 验证邮箱

## 步骤4：部署到 Cloudflare Pages

1. 登录 Cloudflare，点击左侧 **Workers & Pages**
2. 点击 **Create** → **Pages** → **Connect to Git**
3. 选择 GitHub，授权访问
4. 选择你的 `mmcm-website` 仓库
5. 配置构建：

| 设置 | 填写 |
|------|------|
| Framework preset | `None` |
| Build command | `npx @11ty/eleventy` |
| Build output directory | `_site` |

6. 点击 **Save and Deploy**
7. 等待 1-2 分钟，完成后你会得到网址：`https://mmcm-website.pages.dev`

🎉 **网站上线了！**

---

# 第二部分：管理网站内容

所有内容修改都在 **GitHub 网页上** 编辑一个文件：`src/_data/site.json`

## 如何进入编辑页面

1. 打开你的 GitHub 仓库
2. 点击 `src` 文件夹
3. 点击 `_data` 文件夹
4. 点击 `site.json` 文件
5. 点击右上角的 ✏️ 铅笔图标（Edit this file）
6. 修改内容
7. 点击右上角 **Commit changes**
8. 等待 1-2 分钟，网站自动更新

---

## 📂 添加新分类

找到 `categories` 部分，添加一行：

```json
"categories": [
    {"key": "OFFICE", "name": "办公"},
    {"key": "COMMERCIAL", "name": "商业"},
    {"key": "HOTEL", "name": "酒店"},       ← 新增这行
    ...其他分类
],
```

**注意事项：**
- `key`：英文大写，用于筛选（如 `HOTEL`）
- `name`：中文名称，显示在按钮上
- 每行末尾要有逗号 `,`（最后一行除外）

---

## 🖼️ 添加新项目

找到 `projects` 部分，在最后添加：

```json
"projects": [
    ...已有项目...,
    {
      "title": "项目名称",
      "category": "OFFICE",
      "architect": "建筑师名称",
      "url": "https://图床链接/你的图片.jpg",
      "year": "2024",
      "coords": "31.23°N / 121.47°E"
    }
]
```

**字段说明：**
| 字段 | 说明 | 示例 |
|------|------|------|
| title | 项目名称 | `"SHANGHAI_TOWER"` |
| category | 分类（必须与分类的key一致） | `"OFFICE"` |
| architect | 建筑师/设计方 | `"Gensler"` |
| url | 图片链接（从图床获取） | `"https://xxx.com/xxx.jpg"` |
| year | 年份 | `"2024"` |
| coords | 坐标（装饰用，可随便填） | `"31.23°N / 121.47°E"` |

---

## 🏠 修改首页轮播

找到 `homeProjects` 部分：

```json
"homeProjects": [
    {
      "img": "https://图床链接/首页图1.jpg",
      "title": "项目名称",
      "architect": "建筑师",
      "address": "项目地址",
      "coords": "31.23°N / 121.47°E"
    },
    {
      "img": "https://图床链接/首页图2.jpg",
      "title": "项目名称2",
      ...
    }
],
```

**建议：** 首页轮播图用高清大图，推荐 2000×1200 像素

---

## 🗑️ 删除项目或分类

直接删除对应的整块内容，注意：
- 删除后检查逗号是否正确
- 最后一项不能有逗号

---

# 第三部分：图片管理

## 推荐图床

| 图床 | 特点 | 网址 |
|------|------|------|
| **聚合图床** | 国内快，免费 | https://www.superbed.cn |
| **SM.MS** | 稳定，国内外都能访问 | https://sm.ms |
| **imgse** | 简单易用 | https://imgse.com |

## 使用步骤

1. 打开图床网站，注册/登录
2. 上传你的照片
3. 复制图片链接（通常是 `https://xxx.com/xxx.jpg` 格式）
4. 粘贴到 `site.json` 对应位置

## 图片尺寸建议

| 用途 | 推荐尺寸 | 文件大小 |
|------|----------|----------|
| 首页轮播 | 2000 × 1200 px | < 500KB |
| 作品封面 | 800 × 600 px | < 300KB |

**压缩工具推荐：** https://tinypng.com

---

# 第四部分：完整 site.json 模板

```json
{
  "categories": [
    {"key": "OFFICE", "name": "办公"},
    {"key": "COMMERCIAL", "name": "商业"},
    {"key": "RESIDENTIAL", "name": "住宅"},
    {"key": "CULTURAL", "name": "文化"},
    {"key": "EDUCATION", "name": "教育"},
    {"key": "SPORTS", "name": "体育"},
    {"key": "INTERIOR", "name": "室内"}
  ],

  "homeProjects": [
    {
      "img": "https://你的图床/home1.jpg",
      "title": "项目名称",
      "architect": "建筑师",
      "address": "地址",
      "coords": "31.23°N / 121.47°E"
    }
  ],

  "projects": [
    {
      "title": "项目名称",
      "category": "OFFICE",
      "architect": "建筑师",
      "url": "https://你的图床/project1.jpg",
      "year": "2024",
      "coords": "31.23°N / 121.47°E"
    }
  ]
}
```

---

# 常见问题

**Q: 修改后网站没变化？**
A: 等待 1-2 分钟，Cloudflare 自动重新部署

**Q: 网站显示错误？**
A: 检查 JSON 格式是否正确（逗号、引号、括号）

**Q: 如何检查 JSON 格式？**
A: 复制内容到 https://jsonlint.com 检查

**Q: 图片加载慢？**
A: 压缩图片到 500KB 以内，或换国内图床

---

# 快速操作清单

| 我想要... | 操作步骤 |
|-----------|----------|
| 添加新分类 | 编辑 site.json → categories 里加一行 |
| 添加新作品 | 编辑 site.json → projects 里加一块 |
| 修改首页轮播 | 编辑 site.json → homeProjects |
| 删除作品 | 编辑 site.json → 删除对应的 {} 块 |
| 修改文字 | 编辑 site.json → 找到对应字段修改 |

---

祝你的建筑摄影网站一切顺利！🏗️📸
